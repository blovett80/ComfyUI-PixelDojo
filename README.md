# ComfyUI-PixelDojo

A ComfyUI extension for using PixelDojo's Flux API to generate high-quality images directly within ComfyUI workflows.

![PixelDojo ComfyUI Integration](https://pixeldojo.ai/images/comfyui-banner.jpg)

## Features

- Access PixelDojo's powerful image generation models in ComfyUI
- Includes support for all Flux models (flux-pro, flux-1.1-pro, flux-1.1-pro-ultra)
- LoRA support with flux-dev-single-lora model
- Seamless integration with other ComfyUI nodes
- Simple API key setup
- Multiple example workflows included

## Requirements

- ComfyUI installed and working
- A PixelDojo account with an active subscription
- API key from PixelDojo

## Installation

### Method 1: Install via ComfyUI Manager (Recommended)

If you have the ComfyUI Manager installed:

1. Open ComfyUI and navigate to the Manager tab
2. Search for "PixelDojo"
3. Click "Install"
4. Restart ComfyUI

### Method 2: Manual Installation

1. Navigate to your ComfyUI custom_nodes folder
2. Clone this repository:
```bash
cd custom_nodes
git clone https://github.com/pixeldojo/ComfyUI-PixelDojo
```
3. Restart ComfyUI

## Setting Up Your API Key

You have three options to set up your PixelDojo API key:

### Option 1: Environment Variable (Recommended)

Set the `PIXELDOJO_API_KEY` environment variable to your API key before starting ComfyUI.

### Option 2: API Key File

Create a file named `pixeldojo_api_key.txt` in the root directory of the ComfyUI-PixelDojo extension and paste your API key in it.

### Option 3: Direct Input

Enter your API key directly in the `api_key_override` field in the PixelDojo node in ComfyUI.

## Getting Your API Key

1. Log in to your PixelDojo account
2. Navigate to the API Platform section at https://pixeldojo.ai/api-platform/api-keys
3. Click "Create API Key" and give it a name
4. Copy the API key immediately (you won't be able to see it again)

## Usage

After installation, you'll find the "PixelDojo Image Generator" node in the "PixelDojo" category in the node browser.

### Basic Usage

1. Add the "PixelDojo Image Generator" node to your workflow
2. Enter your prompt and select your desired model and aspect ratio
3. Connect the output to a "Preview Image" node or any other ComfyUI node that accepts images
4. Run the workflow

### Parameters

- **prompt**: The text prompt for image generation
- **model**: The PixelDojo model to use (flux-pro, flux-1.1-pro, flux-1.1-pro-ultra, flux-dev-single-lora)
- **aspect_ratio**: The aspect ratio for generated images (1:1, 16:9, 9:16, etc.)
- **num_outputs**: Number of images to generate (1-4)
- **api_key_override**: Optional field to directly input your API key
- **seed**: Random seed for reproducible results (optional)
- **lora_weights**: LoRA model to use (required when using flux-dev-single-lora model)
- **lora_scale**: Strength of the LoRA effect (0.0-1.0)

## Example Workflows

This extension includes several example workflows in the `workflows` folder:

- **basic_pixeldojo.json**: Simple workflow demonstrating basic image generation
- **advanced_pixeldojo.json**: Workflow showing integration with upscaling nodes
- **lora_pixeldojo.json**: Example of using LoRA models with PixelDojo

To use an example workflow:
1. In ComfyUI, click the "Load" button
2. Navigate to the `ComfyUI-PixelDojo/workflows` folder
3. Select one of the example workflows

## Credit Usage

Each image generated by the PixelDojo API uses credits from your PixelDojo account:
- All models: 1 credit per image

You must have an active subscription and sufficient credits to use the API.

## Notes on Image Storage

Images generated through the API are stored temporarily on PixelDojo servers for 24 hours. When you save images through ComfyUI, they are saved locally on your computer.

## Troubleshooting

### API Key Issues

If you see an error about your API key:
- Verify your API key is correct
- Check that your PixelDojo subscription is active
- Ensure you have sufficient credits in your account

### No Images Generated

If no images are returned:
- Check your prompt for potential content policy violations
- Verify your internet connection
- Check the ComfyUI console for detailed error messages

## Support

For issues with the ComfyUI extension:
- Open an issue on our [GitHub repository](https://github.com/pixeldojo/ComfyUI-PixelDojo)

For questions about PixelDojo or API credits:
- Contact PixelDojo support through your account dashboard

## License

MIT License 